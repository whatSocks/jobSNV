= Title of GraphGist
:neo4j-version: 2.1.0
:author: Your Name Here
:description: A sentence description.
:twitter: @yourTwitter,
:tags: domain:animals, use-case:social network 


== Table of Contents

* *<<introduction, Introduction>>*
* *<<the_network, The Network>>*
** <<network_subtopic1, Network Subtopic 1>>
* *<<problem_1, Describing and Solving Problem 1>>*
** <<problem_1_subtopic1, Problem 1 Subtopic 1>>
* *<<problem_2, Describing and Solving Problem 2>>*
** <<problem_2_subtopic1, Problem 2 Subtopic 1>>
* *<<conclusion, Conclusion>>*
** <<conclusion_subtopic1, Conclusion Subtopic 1>>
** <<why_neo, Why Neo4j?>>
* *<<use_case, Use Case: Use Case Name>>*
* *<<appendix, Cypher Appendix>>*
** <<cypher_subtopic_1, Cypher Subtopic 1>>
* *<<references, References>>*

[[introduction]]
== Introduction to GraphGist


[[the_network]]
== The Network used in GraphGist

=== _Briefly describe the network._

Describe a job networking platform with:

==== nodes & relationships:

users: Can be looking for work or not looking for work

jobs: Posted by companies, connected to by users, associated with skills

skills: Associated with users and jobs

user groups: Associated with users

==== from the company user POV

Professional networking sites are used, among other things, for companies to advertise & close job postings to candidates with traits they like and not traits they don't like (precision vs recall). 

==== from the individual user POV (terminology overload - companies are also users, perhaps call users-of-the-graph and users-of-the-socual-network-product something different)

Aside from generic social brownie points things, users are mostly interested in getting jobs in their area of skill. 

==== Abstractions & Assumptions

- There's no time but the present
- Multiple people can have the same job, but jobs can only belong to one company (taking away the need for the 3-node solution)
- Aside from id and a name, nodes don't have other traits, this emphasizes the power of the connections in this example

== _Briefly describe the problem._

From the company POV, paying for job ads is costly, they want to have high precision. Can the social network offer companies a "you should advertise in XYZ group" recommendation feature? 

What would recommendation be based on?

- Find groups that current employees are part of 
- Find groups that high-value users with target skill are part of
-- See Aardvark example on how they select the best experts: experts that have a lot more friends with similar skills/knowledge give higher quality responses, maybe the same thing will happen here

From the user POV, users want to be in a position where companies think they are high-value assets even though they may have less than ideal experience in the field (thus the quest for employment). 

Can the social networking application offer some suggestions as to how to improve results? Same as above, with one change:

- Find groups that current employees of companies with _open_ jobs with relevant skills are members of

What might be a less good idea:

- Find groups with other users that have relevant skills are members of (this seems like a good idea for general networking and education, but perhaps it's naive - these groups may be too general)
-- this might give good recall, but poor precision

//hide
//setup
[source,cypher]
----
//create the User nodes
CREATE (`1`:Person {id:1, name:'Abeer Fathy'}), (`2`:Person {id:2, name:'An Yu-bao'}), (`3`:Person {id:3, name:'Anastasiya Vasilyev'}), (`4`:Person {id:4, name:'Anna Zaytesev'}), (`5`:Person {id:5, name:'Asley Leger'}), (`6`:Person {id:6, name:'Aziza Hsuang-tsung'}), (`7`:Person {id:7, name:'Bai Vasilyev'}), (`8`:Person {id:8, name:'Barbra Schon'}), (`9`:Person {id:9, name:'Bart Kosana'}), (`10`:Person {id:10, name:'Bill Hinzman'}), (`11`:Person {id:11, name:'Bill Cardille'}), (`12`:Person {id:12, name:'Bobba Fett'}), (`13`:Person {id:13, name:'Cai Shen'}), (`14`:Person {id:14, name:'Cammy Schott'}), (`15`:Person {id:15, name:'Cammy Vinogradov'}), (`16`:Person {id:16, name:'Cammy Sokolov'}), (`17`:Person {id:17, name:'Chan Morozov'}), (`18`:Person {id:18, name:'Chan Bang'}), (`19`:Person {id:19, name:'Charles Craig'}), (`20`:Person {id:20, name:'Chew Kwan-yew'}), (`21`:Person {id:21, name:'Chiang Popov'}), (`22`:Person {id:22, name:'Chiu Xiao-yong'}), (`23`:Person {id:23, name:'Dai Lu-fang'}), (`24`:Person {id:24, name:'Dariya Solovynov'}), (`25`:Person {id:25, name:'Dariya Semyonov'}), (`26`:Person {id:26, name:'Dariya Vorobyrov'}), (`27`:Person {id:27, name:'David Cardille'}), (`28`:Person {id:28, name:'Deeanna Lacroix'}), (`29`:Person {id:29, name:'Deng Szeto'}), (`30`:Person {id:30, name:'Dina Schott'})

//create the Company nodes
CREATE (`company1`:Company {id:1, name:'Salyut'}), (`company2`:Company {id:2, name:'Tiangong'}), (`company3`:Company {id:3, name:'Mir'}), (`company4`:Company {id:4, name:'Kosmos'}), (`company5`:Company {id:5, name:'Zvezda'}), (`company6`:Company {id:6, name:'Skylab'}), (`company7`:Company {id:7, name:'Genesis'}),(`company8`:Company {id:8, name:'World Medical Inc'}),(` company9`:Company {id:9, name:'Mining Inc'}), (`company10`:Company {id:10, name:'Absolute Engineering'}),(` company10`:Company {id:10, name:'Amazing Transportation'}), (`company12`:Company {id:12, name:'Whiskey Management'})

//create the Job nodes
CREATE (`job1`:Job {id:1, name:'Graphic Designer'}), (`job2`:Job {id:2, name:'Naval Engineer'})


//create the Skill nodes

CREATE (`skill1`:Skill {id:1, name:'SASS'}), (`skill2`:Skill {id:2, name:'Ruby'}), (`skill3`:Skill {id:3, name:'Java'}), (`skill4`:Skill {id:4, name:'ELISA'}), (`skill5`:Skill {id:5, name:'Excel'}), (`skill6`:Skill {id:6, name:'Marketing'}), (`skill7`:Skill {id:7, name:'Spanish'}),
(`skill8`:Skill {id:8, name:'R'}),(` skill9`:Skill {id:9, name:'Boating'}), (`skill10`:Skill {id:10, name:'Illustrator'}),(` skill10`:Skill {id:10, name:'InDesign'}), (`skill12`:Skill {id:12, name:'Photoshop'})


//create the Group nodes
CREATE (`group1`:Group {id:1, name:'SASS User Group'}), (`group2`:Group {id:2, name:'HTML5 Lovers'}), (`group3`:Group {id:3, name:'FrontEnd4Evr'}), (`group4`:Group {id:4, name:'AssayUserGroup'}), (`group5`:Group {id:5, name:'ChemStudents'}), (`group6`:Group {id:6, name:'BuyNowAndSave'}), (`group7`:Group {id:7, name:'SEOPros'}),(`group8`:Group {id:8, name:'useRs'}),(` group9`:Group {id:9, name:'Yachties'}), (`group10`:Group {id:10, name:'Adobe'})

//create the user-user relationships
CREATE (`2`)-[:KNOWS]->(`18`), (`2`)-[:KNOWS]->(`6`), (`3`)-[:KNOWS]->(`7`), (`3`)-[:KNOWS]->(`5`), (`4`)-[:KNOWS]->(`93`), (`5`)-[:KNOWS]->(`3`), (`6`)-[:KNOWS]->(`2`), (`7`)-[:KNOWS]->(`3`), (`8`)-[:KNOWS]->(`79`), (`8`)-[:KNOWS]->(`4`), (`9`)-[:KNOWS]->(`47`), (`9`)-[:KNOWS]->(`3`), (`9`)-[:KNOWS]->(`5`), (`10`)-[:KNOWS]->(`2`), (`10`)-[:KNOWS]->(`4`), (`10`)-[:KNOWS]->(`6`), (`11`)-[:KNOWS]->(`27`), (`11`)-[:KNOWS]->(`1`), (`11`)-[:KNOWS]->(`3`), (`11`)-[:KNOWS]->(`5`), (`12`)-[:KNOWS]->(`4`), (`12`)-[:KNOWS]->(`6`), (`13`)-[:KNOWS]->(`53`), (`13`)-[:KNOWS]->(`1`), (`14`)-[:KNOWS]->(`30`), (`14`)-[:KNOWS]->(`4`), (`15`)-[:KNOWS]->(`32`), (`15`)-[:KNOWS]->(`26`), (`15`)-[:KNOWS]->(`21`), (`15`)-[:KNOWS]->(`3`), (`15`)-[:KNOWS]->(`5`), (`16`)-[:KNOWS]->(`31`), (`16`)-[:KNOWS]->(`4`), (`17`)-[:KNOWS]->(`37`), (`17`)-[:KNOWS]->(`28`), (`18`)-[:KNOWS]->(`42`), (`18`)-[:KNOWS]->(`2`), (`19`)-[:KNOWS]->(`3`), (`19`)-[:KNOWS]->(`5`), (`20`)-[:KNOWS]->(`84`), (`20`)-[:KNOWS]->(`2`), (`21`)-[:KNOWS]->(`1`), (`21`)-[:KNOWS]->(`3`), (`21`)-[:KNOWS]->(`5`), (`22`)-[:KNOWS]->(`40`), (`22`)-[:KNOWS]->(`86`), (`22`)-[:KNOWS]->(`2`), (`24`)-[:KNOWS]->(`97`), (`24`)-[:KNOWS]->(`4`), (`25`)-[:KNOWS]->(`3`), (`25`)-[:KNOWS]->(`5`), (`26`)-[:KNOWS]->(`98`), (`26`)-[:KNOWS]->(`2`), (`26`)-[:KNOWS]->(`4`), (`26`)-[:KNOWS]->(`6`), (`27`)-[:KNOWS]->(`11`), (`27`)-[:KNOWS]->(`1`), (`27`)-[:KNOWS]->(`3`), (`27`)-[:KNOWS]->(`5`), (`28`)-[:KNOWS]->(`4`), (`29`)-[:KNOWS]->(`19`), (`29`)-[:KNOWS]->(`1`), (`30`)-[:KNOWS]->(`14`)

//user-group
CREATE (`3`)-[:MEMBER]->(`group1`), (`4`)-[:MEMBER]->(`group1`), (`5`)-[:MEMBER]->(`group1`), (`6`)-[:MEMBER]->(`group1`), (`7`)-[:MEMBER]->(`group1`), (`15`)-[:MEMBER]->(`group1`), (`30`)-[:MEMBER]->(`group1`), (`11`)-[:MEMBER]->(`group1`), (`15`)-[:MEMBER]->(`group1`), (`19`)-[:MEMBER]->(`group1`), (`47`)-[:MEMBER]->(`group1`), (`13`)-[:MEMBER]->(`group1`), (`7`)-[:MEMBER]->(`group1`), (`26`)-[:MEMBER]->(`group1`), (`17`)-[:MEMBER]->(`group1`), (`8`)-[:MEMBER]->(`group1`), (`18`)-[:MEMBER]->(`group1`), (`19`)-[:MEMBER]->(`group1`), (`92`)-[:MEMBER]->(`group1`), (`93`)-[:MEMBER]->(`group1`), (`7`)-[:MEMBER]->(`group1`), (`2`)-[:MEMBER]->(`group2`), (`6`)-[:MEMBER]->(`group2`), (`10`)-[:MEMBER]->(`group2`), (`13`)-[:MEMBER]->(`group2`), (`26`)-[:MEMBER]->(`group2`), (`6`)-[:MEMBER]->(`group2`), (`3`)-[:MEMBER]->(`group2`), (`8`)-[:MEMBER]->(`group2`), (`13`)-[:MEMBER]->(`group2`), (`16`)-[:MEMBER]->(`group3`)

//create job-skill relationships
CREATE (`job1`)-[:HAS_SKILL]->(`skill8`), (`job2`)-[:HAS_SKILL]->(`skill12`)

//create the user-skill relationships
CREATE (`2`)-[:HAS_SKILL]->(`skill8`), (`2`)-[:HAS_SKILL]->(`skill12`), (`3`)-[:HAS_SKILL]->(`skill12`), (`3`)-[:HAS_SKILL]->(`skill12`), (`4`)-[:HAS_SKILL]->(`skill3`), (`5`)-[:HAS_SKILL]->(`skill12`), (`6`)-[:HAS_SKILL]->(`skill12`), (`7`)-[:HAS_SKILL]->(`skill12`), (`8`)-[:HAS_SKILL]->(`skill9`), (`8`)-[:HAS_SKILL]->(`skill12`), (`9`)-[:HAS_SKILL]->(`skill7`), (`9`)-[:HAS_SKILL]->(`skill12`), (`9`)-[:HAS_SKILL]->(`skill12`), (`10`)-[:HAS_SKILL]->(`skill12`), (`10`)-[:HAS_SKILL]->(`skill12`), (`10`)-[:HAS_SKILL]->(`skill12`), (`11`)-[:HAS_SKILL]->(`skill7`), (`11`)-[:HAS_SKILL]->(`skill12`), (`11`)-[:HAS_SKILL]->(`skill12`), (`11`)-[:HAS_SKILL]->(`skill12`), (`12`)-[:HAS_SKILL]->(`skill12`), (`12`)-[:HAS_SKILL]->(`skill12`), (`13`)-[:HAS_SKILL]->(`skill3`), (`13`)-[:HAS_SKILL]->(`skill12`), (`14`)-[:HAS_SKILL]->(`skill0`), (`14`)-[:HAS_SKILL]->(`skill12`), (`15`)-[:HAS_SKILL]->(`skill `), (`15`)-[:HAS_SKILL]->(`skill `), (`15`)-[:HAS_SKILL]->(`skill1`), (`15`)-[:HAS_SKILL]->(`skill `), (`15`)-[:HAS_SKILL]->(`skill `), (`16`)-[:HAS_SKILL]->(`skill1`), (`16`)-[:HAS_SKILL]->(`skill12`), (`17`)-[:HAS_SKILL]->(`skill7`), (`17`)-[:HAS_SKILL]->(`skill8`), (`18`)-[:HAS_SKILL]->(`skill2`), (`18`)-[:HAS_SKILL]->(`skill12`), (`19`)-[:HAS_SKILL]->(`skill12`), (`19`)-[:HAS_SKILL]->(`skill12`), (`20`)-[:HAS_SKILL]->(`skill4`), (`20`)-[:HAS_SKILL]->(`skill12`), (`21`)-[:HAS_SKILL]->(`skill12`), (`21`)-[:HAS_SKILL]->(`skill12`), (`21`)-[:HAS_SKILL]->(`skill12`), (`22`)-[:HAS_SKILL]->(`skill0`), (`22`)-[:HAS_SKILL]->(`skill6`), (`22`)-[:HAS_SKILL]->(`skill12`), (`24`)-[:HAS_SKILL]->(`skill7`), (`24`)-[:HAS_SKILL]->(`skill12`), (`25`)-[:HAS_SKILL]->(`skill12`), (`25`)-[:HAS_SKILL]->(`skill12`), (`26`)-[:HAS_SKILL]->(`skill8`), (`26`)-[:HAS_SKILL]->(`skill12`), (`26`)-[:HAS_SKILL]->(`skill12`), (`26`)-[:HAS_SKILL]->(`skill12`), (`27`)-[:HAS_SKILL]->(`skill1`), (`27`)-[:HAS_SKILL]->(`skill12`), (`27`)-[:HAS_SKILL]->(`skill12`), (`27`)-[:HAS_SKILL]->(`skill12`), (`28`)-[:HAS_SKILL]->(`skill12`), (`29`)-[:HAS_SKILL]->(`skill9`), (`29`)-[:HAS_SKILL]->(`skill12`), (`30`)-[:HAS_SKILL]->(`skill4`), (`30`)-[:HAS_SKILL]->(`skill12`)

//create the job-company relationshps
CREATE (`job1`)-[:JOB_AT]->(`company3`), (`job2`)-[:JOB_AT]->(`company2`)

//create the user-company relationships
CREATE (`1`)-[:WORKS_AT]->(`company1`), (`2`)-[:WORKS_AT]->(`company2`), (`3`)-[:WORKS_AT]->(`company3`), (`4`)-[:WORKS_AT]->(`company1`), (`5`)-[:WORKS_AT]->(`company2`), (`6`)-[:WORKS_AT]->(`company3`), (`7`)-[:WORKS_AT]->(`company1`), (`8`)-[:WORKS_AT]->(`company2`), (`9`)-[:WORKS_AT]->(`company3`), (`10`)-[:WORKS_AT]->(`company1`), (`11`)-[:WORKS_AT]->(`company2`), (`12`)-[:WORKS_AT]->(`company3`), (`13`)-[:WORKS_AT]->(`company1`), (`14`)-[:WORKS_AT]->(`company2`), (`15`)-[:WORKS_AT]->(`company3`), (`16`)-[:WORKS_AT]->(`company1`), (`17`)-[:WORKS_AT]->(`company2`), (`18`)-[:WORKS_AT]->(`company3`), (`19`)-[:WORKS_AT]->(`company1`), (`20`)-[:WORKS_AT]->(`company2`)

//return statement commented out for practicality
//RETURN *
//LIMIT 50
----
// graph_result

_If you need more clarification, insert image of network here. Sample image below._

image::http://i.imgur.com/DvwWxMI.png[example]


[[network_subtopic1]]
=== Network Subtopic 1

_Should the network need further description, insert content here._


[[problem_1]]
== Describing and Solving Problem 1

=== _Describe and solve the problem with prose and Cypher!_

_Sample Problem: How do we find a user that's buddies with Jacob and knows about hyraxes?_

_Insert image of problem/solution here. Sample image below._

image::http://upload.wikimedia.org/wikipedia/commons/a/af/Procaviaskull.png[a hyrax]


//setup
[source,cypher]
----
MATCH (t:TOPIC)-[:KNOWS_ABOUT]->(a:USER)-[:IS_BUDDY]->(j:USER)
WHERE j.name = 'Jacob' AND t.name = 'hyrax'
RETURN DISTINCT a.name as `Knows about Procavia capensis`
----
// table

[[problem_1_subtopic1]]
=== Problem 1 Subtopic 1

==== _Describe and solve the problem with prose and Cypher!_


[[problem_2]]
== Describing and Solving Problem 2

=== _Describe and solve the problem with prose and Cypher!_

_Insert image of problem/solution here. Sample image below._

image::http://i.imgur.com/DvwWxMI.png[example]


[[problem_2_subtopic1]]
=== Problem 2 Subtopic 1

==== _Describe and solve the problem with prose and Cypher!_


[[conclusion]]
== Conclusion

_Problems solved, battles won...Jacob has a handful of friends interested in hyraxes._

[[conclusion_subtopic1]]
=== Conclusion Subtopic 1

[[why_neo]]
=== Why Neo4j?

image:https://dl.dropboxusercontent.com/u/14493611/neo4j-logo.png[Neo4j Logo]


_Explain why Neo4j was used._

[[use_case]]
== Use Case: Use Case Name

_logo of use case here_

_Describe use case here._

[[appendix]]
== Cypher Appendix

[[cypher_subtopic_1]]
=== Cypher Subtopic 1

----
//CYPHER HERE. For example:
MATCH (a:sample)
RETURN a
----

_Explanation of non-trivial Cypher queries used._

[[references]]
== References

_some sample references:_

- Frederick, Michael T., Pallab Datta, and Arun K. Somani. "Sub-Graph Routing: A generalized fault-tolerant strategy for link failures in WDM Optical Networks." Computer Networks 50.2 (2006): 181-199.
- 'http://en.wikipedia.org/wiki/Samuel_Johnson[Networks, Crowds, and Markets]'
- 'http://jexp.de/blog/2014/03/sampling-a-neo4j-database/[Sampling a Neo4j Database]'
